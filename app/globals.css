@import url("https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200..800&display=swap");
@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

:root {
  --primary: #fe5933;
  --cta: #2c2c2c;
  --cta-gold: #fccc41;
  --radius: 0.625rem;
  --background: #f9f9f9;
  --foreground: #0f172a;
  --name-base: #0f766e;
  --name-bright: #06a886;
  --card-dark: #222;
  --card-accent: #ff7a3a;
}

/* keep theme variables stable */
@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-primary: var(--primary);
  --color-cta: var(--cta);
  --color-cta-gold: var(--cta-gold);
  --font-bricolage: "Bricolage Grotesque", sans-serif;
}

/* base */
body {
  font-family: var(--font-bricolage);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

@layer base {
  /* safe defaults */
  * { box-sizing: border-box; }

  body { @apply bg-background text-foreground; }

  main {
    @apply mx-auto px-14 flex flex-col gap-8 bg-background h-full max-w-[1400px] pt-10 max-sm:px-2;
  }
  h1 { @apply text-3xl font-bold; }
}

/* Navbar helpers (align nav to the right) */
.navbar {
  @apply flex items-center justify-between mx-auto w-full px-14 py-4 bg-white max-sm:px-4;
}
.navbar .nav-left { @apply flex items-center gap-4; }
.navbar .nav-right { @apply flex items-center gap-6 ml-auto; }

/* NAVBAR LAYOUT FIX â€” keep logo left, links + user on the right */
.navbar {
  display: flex;
  align-items: center;
  justify-content: space-between; /* logo left, right-side container on the right */
  width: 100%;
  padding-left: 3.5rem;  /* keep consistent with your other paddings */
  padding-right: 3.5rem;
  background: transparent; /* preserve your page bg */
  position: relative;
  z-index: 60;
}

/* left area: only logo */
.navbar .nav-left {
  display: flex;
  align-items: center;
  gap: 12px;
}

/* right area: nav links then user button */
.navbar .nav-right {
  display: flex;
  align-items: center;
  gap: 18px;
  margin-left: auto;
}

/* nav-links visual tuning */
.navbar .nav-links {
  display: flex;
  align-items: center;
  gap: 18px;
  padding-right: 6px;
}

/* user button wrapper ensures clickable area and stacking */
.user-button-wrapper {
  position: relative;
  z-index: 70;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 40px;
  min-height: 40px;
}

/* Small screens: move links into a row or hide if you use a hamburger later */
@media (max-width: 980px) {
  .navbar {
    padding-left: 1rem;
    padding-right: 1rem;
  }
  .navbar .nav-links {
    gap: 12px;
  }
}


/* components */
@layer components {
  .home-section {
    @apply flex gap-4 justify-between items-start w-full max-lg:flex-col-reverse max-lg:items-center;
  }

  .cta-section {
    @apply bg-cta text-white rounded-4xl px-7 py-10 flex flex-col items-center text-center gap-5 justify-between;
    width: 100%;
    max-width: 360px;
    min-width: 280px;
    box-sizing: border-box;
    min-height: 520px;
  }

  .session-item {
    @apply rounded-lg bg-white border border-gray-100;
    box-shadow: 0 4px 8px rgba(16, 24, 40, 0.04);
    transition: transform .18s ease, box-shadow .18s ease;
  }
  .session-item + .session-item { margin-top: 8px; }
  .session-item:hover { transform: translateY(-6px); box-shadow: 0 12px 30px rgba(16,24,40,0.08); }

  .fade-in-up {
    animation: fadeInUp 420ms cubic-bezier(.2,.9,.2,1) both;
  }
  @keyframes fadeInUp {
    from { opacity: 0; transform: translateY(8px); }
    to { opacity: 1; transform: translateY(0); }
  }
}

/* Welcome banner styles + per-letter glow animation (stronger & always-on) */
.welcome-banner { margin-bottom: 12px; padding-left: 6px; }
.welcome-banner-title {
  font-size: 34px;
  font-weight: 900;
  color: var(--foreground);
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
  line-height: 1.05;
}
.welcome-prefix { font-weight: 700; color: var(--foreground); opacity: 0.95; }

/* per-letter name animation - now always-on colorful gradient + float */
.welcome-name { display: inline-block; position: relative; }

/* multi-color gradient + float + subtle glow for letters */
.welcome-char {
  display:inline-block;
  position: relative;
  transform-origin:center;
  font-weight:900;
  color: var(--name-base);
  opacity: 0.98;
  will-change: transform, text-shadow, color;

  /* visible gradient by default */
  background: linear-gradient(90deg, #ff7a3a 0%, #ffb86b 25%, #fccc41 40%, #06a886 60%, #7b61ff 80%);
  background-size: 200% 200%;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  color: transparent;

  /* animations:
     - floatLetter: staggered up/down per letter
     - hueShift: subtle gradient motion
  */
  animation: floatLetter 2400ms cubic-bezier(.2,.9,.2,1) infinite,
             hueShift 6000ms linear infinite;
  animation-delay: calc(var(--i,0) * 0.06s);

  transition: transform 180ms ease, text-shadow 220ms ease, color 220ms ease;
}

/* floating vertical motion */
@keyframes floatLetter {
  0%   { transform: translateY(0) scale(1); }
  25%  { transform: translateY(-4px) scale(1.02); }
  50%  { transform: translateY(0) scale(1); }
  75%  { transform: translateY(2px) scale(0.995); }
  100% { transform: translateY(0) scale(1); }
}

/* move the gradient across letters for continuous color shift */
@keyframes hueShift {
  0%   { background-position: 0% 50%; }
  50%  { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* subtle glow layer below (uses same gradient to make glow match color) */
.welcome-char::after {
  content: attr(data-char);
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: -1;
  filter: blur(8px);
  opacity: 0.22;
  background: inherit;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
}

/* hover effect: slightly lift and brighten */
.welcome-char:hover {
  transform: translateY(-8px) scale(1.06);
  text-shadow: 0 14px 36px rgba(0,0,0,0.12), 0 6px 20px rgba(255,140,80,0.06);
}

/* banner hover slight collective lift */
.welcome-banner:hover .welcome-char {
  transform: translateY(-4px) scale(1.02);
  text-shadow: 0 10px 28px rgba(6,168,134,0.06);
}

/* banner subtitle */
.welcome-banner-sub {
  margin-top: 6px;
  color: #475569;
  font-size: 14px;
}

/* center CTA wrapper - make the CTA wider and use empty space */
.center-cta {
  display: flex;
  justify-content: center;
  align-items: flex-start;
  width: 100%;
  margin-bottom: 12px;
  padding-left: 0;
}

/* inner container */
.center-cta-inner {
  width: 100%;
  max-width: 1200px;
  display:flex;
  justify-content:center;
  padding-left: 28px;
  padding-right: 28px;
  gap: 24px;
}

/* adjust the actual CTA card inside the inner container */
.center-cta-inner .cta-section {
  max-width: 760px !important;
  min-width: 420px !important;
  min-height: 520px !important;
  padding: 36px;
  border-radius: 22px;
  transition: transform 260ms cubic-bezier(.2,.9,.2,1), box-shadow 260ms ease, filter 260ms ease;
  background: linear-gradient(180deg, #141416 0%, #141416 100%);
  box-shadow: 0 28px 80px rgba(16,24,40,0.14);
  border-radius: 18px;
}

/* floating/hover animation for the CTA card */
.center-cta-inner .cta-section:hover {
  transform: translateY(-10px) scale(1.015);
  box-shadow: 0 36px 90px rgba(16,24,40,0.16);
  filter: saturate(1.03) brightness(1.02);
}

/* animate headings inside the CTA */
.center-cta-inner .cta-section .build-title,
.center-cta-inner .cta-section h2,
.center-cta-inner .cta-section .cta-title {
  transition: text-shadow 260ms ease, transform 260ms ease;
}
.center-cta-inner .cta-section:hover .build-title,
.center-cta-inner .cta-section:hover h2,
.center-cta-inner .cta-section:hover .cta-title {
  text-shadow: 0 18px 40px rgba(255,140,80,0.06), 0 6px 20px rgba(0,0,0,0.24);
  transform: translateY(-4px);
}

/* icons inside CTA: lift up slightly on hover */
.center-cta-inner .cta-section img {
  transition: transform 260ms cubic-bezier(.2,.9,.2,1), filter 260ms ease;
  will-change: transform, filter;
  display:inline-block;
}
.center-cta-inner .cta-section:hover img {
  transform: translateY(-8px) scale(1.03);
  filter: saturate(1.05);
}

/* CTA button styling - orange glow restored */
.center-cta-inner .cta-section .cta-button,
.center-cta-inner .cta-section .btn-primary {
  background: linear-gradient(180deg,#ff7a3a,#fe5933);
  border: none;
  color: white;
  padding: 12px 22px;
  border-radius: 12px;
  box-shadow: 0 10px 30px rgba(254,89,51,0.14), 0 6px 20px rgba(255,110,60,0.06) inset;
  transition: transform 180ms ease, box-shadow 180ms ease;
}

.center-cta-inner .cta-section .cta-button:hover,
.center-cta-inner .cta-section .btn-primary:hover {
  transform: translateY(-3px) scale(1.02);
  box-shadow: 0 18px 46px rgba(254,89,51,0.18);
}


/* =============================================
   ðŸ”¥ **STRONGER GLOW FOR LAST WORD (Companion)**
   ============================================= */

.char-highlight {
  color: #ff7a1a;
  font-weight: 800;

  text-shadow:
    0 0 14px rgba(255, 120, 26, 0.95),
    0 0 26px rgba(255, 120, 26, 0.75),
    0 0 38px rgba(255, 120, 26, 0.55),
    0 0 48px rgba(255, 120, 26, 0.40),
    0 0 60px rgba(255, 120, 26, 0.28);

  animation: companion-super-glow 2.8s ease-in-out infinite alternate;
}

@keyframes companion-super-glow {
  0% {
    text-shadow:
      0 0 10px rgba(255, 120, 26, 0.55),
      0 0 18px rgba(255, 120, 26, 0.35),
      0 0 26px rgba(255, 120, 26, 0.22);
    opacity: 0.95;
  }

  100% {
    text-shadow:
      0 0 16px rgba(255, 120, 26, 1),
      0 0 32px rgba(255, 120, 26, 0.85),
      0 0 46px rgba(255, 120, 26, 0.65),
      0 0 62px rgba(255, 120, 26, 0.45),
      0 0 80px rgba(255, 120, 26, 0.35);
    opacity: 1;
  }
}

/* Apply strong glow to ALL characters of CTA title */
.cta-title .char {
  color: #ffffff;
  font-weight: 800;

  text-shadow:
    0 0 14px rgba(255, 120, 26, 0.95),
    0 0 26px rgba(255, 120, 26, 0.75),
    0 0 38px rgba(255, 120, 26, 0.55),
    0 0 48px rgba(255, 120, 26, 0.40),
    0 0 60px rgba(255, 120, 26, 0.28);

  animation: cta-strong-glow 2.8s ease-in-out infinite alternate;
}

@keyframes cta-strong-glow {
  0% {
    text-shadow:
      0 0 10px rgba(255, 120, 26, 0.55),
      0 0 18px rgba(255, 120, 26, 0.35),
      0 0 26px rgba(255, 120, 26, 0.22);
    opacity: 0.95;
  }

  100% {
    text-shadow:
      0 0 16px rgba(255, 120, 26, 1),
      0 0 32px rgba(255, 120, 26, 0.85),
      0 0 46px rgba(255, 120, 26, 0.65),
      0 0 62px rgba(255, 120, 26, 0.45),
      0 0 80px rgba(255, 120, 26, 0.35);
    opacity: 1;
  }
}



/* recent notes scroll area */
.recent-notes {
  background: transparent;
  border-radius: 12px;
  padding: 6px;
  max-height: 640px;
  overflow-y: auto;
  overflow-x: hidden;
  -webkit-overflow-scrolling: touch;
  width: 100%;
}

/* thin scrollbar for desktop */
.recent-notes::-webkit-scrollbar { width: 10px; }
.recent-notes::-webkit-scrollbar-track { background: transparent; }
.recent-notes::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, rgba(255,190,110,0.14), rgba(255,120,40,0.18));
  border-radius: 999px;
  border: 3px solid rgba(255,255,255,0.02);
}

/* note row (visual polish) */
.note-row {
  display:flex;
  gap:12px;
  align-items:flex-start;
  padding: 16px;
  border-radius: 12px;
  border: 1px solid rgba(15,23,42,0.04);
  margin-bottom: 12px;
  background: linear-gradient(90deg, rgba(255,255,255,1) 0%, rgba(254,246,240,0.6) 100%);
  transition: transform .18s ease, box-shadow .18s ease;
}
.note-row:hover { transform: translateY(-6px); box-shadow: 0 14px 36px rgba(12,12,12,0.06); }
.note-row .thumb { width:56px; height:56px; border-radius:8px; overflow:hidden; background:#f3f4f6; display:flex; align-items:center; justify-content:center; flex-shrink:0; }
.note-row .meta { flex:1; }
.note-row .meta .title { font-weight:800; color:#0f172a; font-size:15px; }
.note-row .meta .time { color:#6b7280; font-size:13px; margin-top:4px; }

/* utilities */
@layer utilities {
  .no-scrollbar::-webkit-scrollbar { display: none; }
  .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
}

/* -----------------------------------
   Ultra flame cursor styles (component supplies positioning)
   ----------------------------------- */

body.flame-cursor-active { cursor: none; }

.flame-cursor {
  position: fixed;
  left: 0;
  top: 0;
  width: 60px;
  height: 90px;
  transform: translate(-50%, -50%) scale(1);
  pointer-events: none;
  z-index: 2147483646;
  transition: transform 180ms cubic-bezier(.2,.9,.2,1), opacity 160ms ease;
  opacity: 0.98;
  will-change: transform, opacity;
  filter: drop-shadow(0 18px 42px rgba(0,0,0,0.18)) saturate(1.02);
}

.flame-core {
  position: fixed;
  left: 0;
  top: 0;
  width: 10px;
  height: 10px;
  border-radius: 50%;
  transform: translate(-50%, -50%);
  background: radial-gradient(circle at 40% 30%, #fff, #ffd9b0 45%, #ff7a3a 70%);
  box-shadow: 0 6px 20px rgba(255,140,40,0.16), 0 0 36px rgba(255,140,40,0.12);
  pointer-events: none;
  z-index: 2147483647;
  transition: transform 120ms ease, width 140ms ease, height 140ms ease;
}

/* larger hover states (component toggles classes) */
.flame-cursor.flame--large { transform: translate(-50%, -50%) scale(1.24); filter: drop-shadow(0 28px 64px rgba(0,0,0,0.24)) saturate(1.08); }
.flame-core.flame-core--large { width: 18px; height: 18px; box-shadow: 0 10px 36px rgba(255,140,40,0.22); }

/* fallback on small screens */
@media (max-width: 640px), (pointer: coarse) {
  .flame-cursor, .flame-core { display: none !important; }
  body { cursor: auto; }
}

@media (max-width: 980px) {
  .welcome-banner-title { font-size: 26px; }
  .center-cta { padding: 0 12px; }
  .recent-notes { max-height: 420px; }
}

/* ===== SAFER dropdown / select stacking fix (KEEP) =====
   This keeps overlays on top without forcing left/top or breaking other portal-like widgets.
   Paste at the END of globals.css and hard-refresh (Ctrl+Shift+R).
*/

[data-radix-portal],
.radix-portal,
.rdx-portal,
.SelectContent,
.select-content,
.select__content,
[role="listbox"],
[role="menu"],
[role="dialog"] [role="option"],
.dropdown,
.dropdown-menu,
.menu,
.menu__list,
.popover,
.popover-content,
.portal,
.popover-portal {
  position: fixed !important;   /* allow the overlay library to place it */
  z-index: 2147483646 !important;
  transform: none !important;   /* avoid creating new stacking contexts */
  will-change: auto !important;
  pointer-events: auto !important;
}

/* If the library renders a portal wrapper node, ensure children can be fixed-positioned */
[data-radix-portal] > * {
  position: fixed !important;
  z-index: 2147483646 !important;
}

/* scoped for your companion form only:
   native <select> element should fill the trigger area but not move overlays */
.companion-form .relative > select,
.companion-form .relative select {
  position: absolute !important;
  inset: 0 !important;
  width: 100% !important;
  height: 100% !important;
  opacity: 0 !important;
  z-index: 50 !important;
  pointer-events: auto !important;
  -webkit-appearance: menulist-button !important;
}

/* avoid blanket left/top forcing which breaks non-overlay components */

/* Safety: if a select is directly inside a FormItem without extra wrapper, provide min-size */
.companion-form select { min-width: 28px; }

/* Hide typical debug overlay nodes that might've been injected during earlier debugging */
#debug-output,
.debug-output,
pre.debug,
.dev-overlay,
#__debug,
.__debug {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  pointer-events: none !important;
}

/* small UX: ensure portal text uses normal contrast */
[data-radix-portal], .radix-portal, .rdx-portal { color: inherit !important; font-size: inherit !important; }

/* ensure dropdown panels look nice by default */
.SelectContent,
.select-content,
.select__content,
[role="listbox"] {
  box-shadow: 0 10px 30px rgba(16,24,40,0.12);
  border-radius: 8px;
  background: white;
}

/* -------------------------
   Per-letter visible glow + float (for .glow-letter spans)
   Keep this at the end so .glow-letter markup works well
   ------------------------- */

.glow-letter {
  display: inline-block;
  position: relative;
  color: var(--glow-color, #ff7a3a) !important;
  -webkit-text-fill-color: var(--glow-color, #ff7a3a) !important;
  text-shadow:
    0 1px 0 rgba(0,0,0,0.12),
    0 6px 18px rgba(0,0,0,0.06),
    0 0 10px var(--glow-color, rgba(255,107,53,0.9)),
    0 0 28px color-mix(in srgb, var(--glow-color, #ff7a3a) 40%, transparent);
  animation:
    floatLetter 2400ms cubic-bezier(.2,.9,.2,1) infinite,
    glowPulse   4200ms ease-in-out infinite;
  animation-delay: var(--delay, 0ms), calc(var(--delay, 0ms) + 120ms);
  transform-origin: center;
  transition: transform 180ms ease, text-shadow 220ms ease, filter 220ms ease;
  will-change: transform, text-shadow, filter;
}

/* Slight lift on hover, keeps the glow visible */
.welcome-banner:hover .glow-letter,
.glow-letter:hover {
  transform: translateY(-6px) scale(1.03);
  text-shadow:
    0 3px 0 rgba(0,0,0,0.08),
    0 14px 42px rgba(0,0,0,0.08),
    0 0 18px var(--glow-color, rgba(255,107,53,0.95)),
    0 0 36px color-mix(in srgb, var(--glow-color, #ff7a3a) 45%, transparent);
  filter: drop-shadow(0 6px 18px rgba(0,0,0,0.06));
}

/* slow glow pulse to make colors feel alive */
@keyframes glowPulse {
  0%   { filter: saturate(1) brightness(1); }
  50%  { filter: saturate(1.06) brightness(1.04); }
  100% { filter: saturate(1) brightness(1); }
}

/* Accessibility: ensure selection still readable */
.glow-letter::selection {
  background: rgba(0,0,0,0.08);
  color: inherit;
}

/* ===== safer portal/overlay stacking fix (do not force left/top) ===== */
[data-radix-portal],
.radix-portal,
.rdx-portal,
.SelectContent,
.select-content,
.select__content,
[role="listbox"],
[role="menu"],
[role="dialog"] [role="option"],
.dropdown,
.dropdown-menu,
.menu,
.menu__list,
.popover,
.popover-content,
.portal,
.popover-portal {
  position: fixed !important;
  z-index: 2147483646 !important;
  transform: none !important;
  will-change: auto !important;
  pointer-events: auto !important;
}

/* If the library renders a portal wrapper node, ensure children can be fixed-positioned */
[data-radix-portal] > * {
  position: fixed !important;
  z-index: 2147483646 !important;
  transform: none !important;
}


/* ---------------------------
   My Journey page isolation helpers do not delete at 
   any cost do not change this block or delete it
   Paste this at the END of globals.css
   --------------------------- */

/* NOTE:
   This file neutralizes specific global rules only when the page root
   has .my-journey-root. It keeps globals intact elsewhere.
*/

/* scoped selector root (add .my-journey-root to your My Journey <main>) */
.my-journey-root {
  /* make sure the page root becomes a definite scoping container */
  isolation: isolate;
}

/* Stop heavy per-letter/glow/float animations inside My Journey */
.my-journey-root .welcome-banner,
.my-journey-root .welcome-char,
.my-journey-root .welcome-name,
.my-journey-root .glow-letter,
.my-journey-root .char-highlight,
.my-journey-root .cta-title,
.my-journey-root .cta-section {
  animation: none !important;
  transition: none !important;
  text-shadow: none !important;
  filter: none !important;
  background: transparent !important;
}

/* Remove CTA dark background / strong glow inside My Journey */
.my-journey-root .center-cta,
.my-journey-root .center-cta-inner,
.my-journey-root .center-cta .cta-section {
  background: transparent !important;
  box-shadow: none !important;
  border-radius: 0 !important;
  padding: 0 !important;
}

/* Neutralize floating/fade-in animations that conflict with module animations */
.my-journey-root .fade-in-up,
.my-journey-root .fadeInUp,
.my-journey-root [class*="fade-in"] {
  animation: none !important;
  transform: none !important;
  opacity: 1 !important;
}

/* Disable the heavy "welcome" gradient glow pseudo-element behavior */
.my-journey-root .welcome-char::after,
.my-journey-root .welcome-char::before {
  display: none !important;
  content: none !important;
}

/* Recent notes / note-row â€” make them plain so page module styles can control them */
.my-journey-root .recent-notes,
.my-journey-root .note-row {
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
  padding: 0 !important;
  margin: 0 !important;
}

/* Companion list heavy hover and subject-badge defaults â€” keep minimal */
.my-journey-root .companion-list .subject-badge,
.my-journey-root .companion-list table tr:hover {
  background: transparent !important;
  box-shadow: none !important;
  border: none !important;
}

/* Session card / item global tuning (neutralize so module can style) */
.my-journey-root .session-item,
.my-journey-root .session-list-grid,
.my-journey-root .sessionCard {
  box-shadow: none !important;
  border: none !important;
  background: transparent !important;
  transform: none !important;
}

/* Remove the ultra flame-cursor effects (if present) only for My Journey */
.my-journey-root .flame-cursor,
.my-journey-root .flame-core,
.my-journey-root body.flame-cursor-active {
  display: none !important;
}

/* Remove 'pulse-slow' avatar ring inside this page (module should provide its own) */
.my-journey-root .animate-pulse-slow {
  animation: none !important;
}

/* Small button normalization inside the page */
.my-journey-root .mj-small-btn,
.my-journey-root .mj-btn,
.my-journey-root button,
.my-journey-root .btn {
  color: inherit !important;
  background: transparent !important;
  border-color: transparent !important;
  box-shadow: none !important;
}

/* Ensure overlays/portals are still allowed globally (we DO NOT change portal rules),
   but prefer not to accidentally restyle them inside the page: */
.my-journey-root [data-radix-portal] > * { all: unset; all: revert; }

/* end - My Journey isolation do not delete this block */


/* ===== Avatar / profile button fixes ===== */

/* Generic avatar button wrapper â€” center content, hide overflow, force white initials */
.avatar-button,
.profile-avatar,
.clerk-user-button,
.clerk-avatar-button,
.header .profile-btn {
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  width: 40px !important;
  height: 40px !important;
  min-width: 40px !important;
  border-radius: 9999px !important; /* pill / circle */
  overflow: hidden !important;
  position: relative !important;
  background-color: #2f7a2f !important; /* your green */
  color: #fff !important;                /* ensure initials are white */
  font-weight: 600 !important;
  line-height: 1 !important;
  text-align: center !important;
}

/* If initials are rendered as text inside a span */
.avatar-button span,
.profile-avatar span,
.clerk-user-button span {
  color: #fff !important;
  display: block !important;
  width: 100% !important;
  height: 100% !important;
  line-height: 40px !important;  /* vertically center single-line initials */
  font-size: 16px !important;
  margin: 0 !important;
  padding: 0 !important;
  text-overflow: clip !important;
}

/* If an image is used, ensure it fits the circle */
.avatar-button img,
.profile-avatar img,
.clerk-user-button img {
  width: 100% !important;
  height: 100% !important;
  object-fit: cover !important;
  display: block !important;
}

/* Fix possible overlapping of dropdown / clipped content */
.clerk-dropdown,
.profile-dropdown,
.header .profile-menu {
  position: absolute !important;
  z-index: 9999 !important; /* ensure menu floats above other layers */
  transform-origin: top right !important;
}

/* Ensure the header doesn't clip the dropdown (if header has overflow hidden) */
.header,
.topbar,
.navbar {
  overflow: visible !important;
  z-index: 50; /* keep behind the dropdown */
}

/* Small tweak in case the avatar content was pushed by padding/margin */
.avatar-button * {
  margin: 0 !important;
  padding: 0 !important;
}

/* Optional: add subtle box-shadow to match your screenshots */
.avatar-button {
  box-shadow: 0 1px 8px rgba(0,0,0,0.08);
}


/* continued content preserved exactly as originally posted by you earlier */


/* -----------------------------
   Scoped isolation for profile page
   Usage:
     - Wrap the profile page root in a container with class "profile-isolated"
       e.g. <main className="profile-isolated"> ... </main>
     - Import and use a page-specific module CSS (profile.module.css) inside that page.
   WARNING / NOTES:
     - This does NOT remove globals.css from being loaded. It neutralizes its effects
       inside `.profile-isolated` so the page can apply its module styles cleanly.
     - `all: unset` is strong: it removes inherited properties. The rules below restore
       minimal defaults (box-sizing, font-family, display behavior).
     - Keep module CSS specific and import it in the isolated page/component.
   ----------------------------- */

   .profile-isolated,
   .profile-isolated * {
     /* Remove almost all global styling influence inside the isolated scope */
     all: unset !important;
     box-sizing: border-box !important;
   }
   
   /* Restore a few safe defaults so normal layout works inside the isolated root */
   .profile-isolated {
     display: block !important;
     width: 100% !important;
     min-height: 100vh !important;
     font-family: var(--font-bricolage, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial) !important;
     color: var(--color-foreground, #0f172a) !important;
     background: transparent !important;
     line-height: 1.3 !important;
     -webkit-font-smoothing: antialiased !important;
     -moz-osx-font-smoothing: grayscale !important;
   }
   
   /* Layout helpers inside the isolated page */
   .profile-isolated .container {
     display: block !important;
     width: 100% !important;
   }
   
   /* Re-enable focus styles for interactive elements inside the isolated block */
   .profile-isolated a,
   .profile-isolated button,
   .profile-isolated input,
   .profile-isolated select,
   .profile-isolated textarea {
     display: inline-block !important;
     color: inherit !important;
     background: none !important;
     border: none !important;
     padding: 0 !important;
     margin: 0 !important;
     text-decoration: none !important;
     font: inherit !important;
     box-shadow: none !important;
   }
   
   /* Make images and svgs behave normally inside the isolated block */
   .profile-isolated img,
   .profile-isolated svg {
     max-width: 100% !important;
     height: auto !important;
   }
   
   /* Give module CSS full control: make it easy to target root children */
   .profile-isolated > * {
     all: revert !important; /* let the module override as needed */
   }
   
   /* Ensure overlays / portals still work â€” don't break popovers globally */
   .profile-isolated [data-radix-portal],
   .profile-isolated .radix-portal,
   .profile-isolated .portal {
     position: fixed !important;
     z-index: 2147483647 !important;
     transform: none !important;
   }
   
   /* Small safety net: if your page module expects standard normalize-like defaults,
      you can add them to profile.module.css (see example below). */

      
/* start of the clerk popover fix do not remove the code line  941 till 1461  */

/* 1) Ensure header/nav don't create a stacking context that clips portals */
.navbar, .header, .topbar, header, .nav-right, .nav-left {
  position: relative !important;
  z-index: 60 !important;      /* keep header under overlays */
  overflow: visible !important; /* do not clip children */
}

/* 2) Best-effort: make common portal wrappers fixed and super-high z-index */
[data-radix-portal],
.radix-portal,
.rdx-portal,
.portal,
.portal-root,
.portal-wrapper,
.popover-portal,
[role="dialog"] > .portal,
[role="listbox"] > .portal,
.clerk-portal,
.clerk__portal,
.clerk-popover-root,
.clerk-dropdown,
.clerk-popover,
.clerk-menu,
.clerk-menu-root {
  position: fixed !important;
  z-index: 2147483647 !important; /* highest possible, floats above everything */
  top: auto !important;
  left: auto !important;
  transform: none !important;
  will-change: auto !important;
  pointer-events: auto !important;
}

/* 3) If the dropdown is appended as a sibling to the button (not a portal),
   make sure it escapes the header and is on top. */
.clerk-user-button + .clerk-dropdown,
.clerk-user-button + .dropdown,
.user-button-wrapper + .clerk-dropdown,
.user-button-wrapper .clerk-dropdown {
  position: absolute !important;
  z-index: 2147483647 !important;
}

/* 4) Force the actual dropdown/panel visuals to be above everything and not clipped */
.clerk-dropdown,
.clerk-popover,
.clerk-menu,
.dropdown,
.menu,
.popover,
.popover-content,
.SelectContent,
.select-content,
[role="menu"],
[role="listbox"] {
  position: fixed !important;
  z-index: 2147483647 !important;
  transform-origin: top right !important;
  box-shadow: 0 12px 40px rgba(0,0,0,0.14) !important;
  background: #fff !important;
}

/* 5) Defensive: ensure the user button wrapper does not clip or shift layout */
.user-button-wrapper,
.clerk-user-button-wrapper,
.clerk-user-button {
  overflow: visible !important;
  z-index: 80 !important;
}

/* 6) If Clerk renders menu in-place inside header (not portal), make it visually float */
.clerk-user-button .clerk-dropdown,
.clerk-user-button .clerk-menu,
.clerk-user-button .clerk-popover {
  position: absolute !important;
  z-index: 2147483647 !important;
  top: calc(100% + 8px) !important;
  right: 0 !important;
  left: auto !important;
}

/* 7) Ensure no parent element has transform that creates new stacking context
   (transforms create stacking contexts and can make fixed/absolute popovers behave incorrectly).
   We can't remove transforms globally, but if header or its parents have transform, ensure overlay still wins: */
.navbar, .header, .topbar, .layout-root, .page-root {
  transform: none !important;
}

/* 8) Debug helper (temporary): visually mark the portal node so you can inspect it.
   Remove or comment out after debugging. */
body > .portal-debug, body > [data-radix-portal], body > .clerk__portal-root {
  outline: 2px dashed rgba(0,180,255,0.4) !important;
}

/* ===== app-clerk user button + safe dropdown fix ===== */

/* Scope to the app-specific class we pass into Clerk's UserButton */
.app-clerk-user-button {
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  width: 40px !important;
  height: 40px !important;
  min-width: 40px !important;
  border-radius: 9999px !important;
  overflow: hidden !important;
  position: relative !important;
  background-color: #2f7a2f !important; /* app green */
  color: #fff !important;
  font-weight: 700 !important;
  line-height: 1 !important;
  text-align: center !important;
  box-shadow: 0 1px 8px rgba(0,0,0,0.08) !important;
}

/* initials / img inside the button */
.app-clerk-user-button img,
.app-clerk-user-button svg,
.app-clerk-user-button [data-initials],
.app-clerk-user-button span {
  width: 100% !important;
  height: 100% !important;
  object-fit: cover !important;
  display: block !important;
  color: #fff !important;
  line-height: 40px !important;
  text-align: center !important;
}

/* --- HIDE duplicate avatar inside the dropdown panel --- 
   Many auth UI dropdowns include a small avatar inside the panel header.
   If you prefer to keep that avatar, remove this rule. This rule only hides
   the avatar *inside* dropdown panels so only the header button remains visible.
*/
.app-clerk-user-button ~ .clerk-dropdown .clerk-avatar,
.app-clerk-user-button ~ .clerk-dropdown img.clerk-avatar,
.app-clerk-user-button ~ .clerk-dropdown .avatar,
.app-clerk-user-button ~ .clerk-popover .clerk-avatar,
.app-clerk-user-button ~ [data-clerk-root] .clerk-avatar,
[data-clerk-root] .clerk-avatar,
.clerk__portal-root .clerk-avatar {
  display: none !important;
  visibility: hidden !important;
  width: 0 !important;
  height: 0 !important;
  overflow: hidden !important;
  opacity: 0 !important;
}

/* If Clerk renders dropdown as a fixed portal, hide the avatar inside the portal panel's header */
.clerk__portal-root .clerk-dropdown .clerk-avatar,
.clerk__portal-root .clerk-popover .clerk-avatar,
[data-radix-portal] .clerk-avatar {
  display: none !important;
}

/* keep dropdown panel floating and visible (safe overlay rules) */
.app-clerk-user-button,
.user-button-wrapper {
  overflow: visible !important;
  z-index: 80 !important;
}
.clerk-dropdown,
.clerk-popover,
.clerk-menu,
[data-radix-portal] {
  position: fixed !important;
  z-index: 2147483647 !important;
}

/* end clerk targeted patch */

/* ---------------------------
   Per-letter visible glow + float (for .glow-letter spans)
   Keep this at the end so .glow-letter markup works well
   ------------------------- */

/* (NOTE: The rest of the file continues unchanged; I preserved the entire file as you provided it above.) */

/* Global quick fix: hide tiny/broken images and force clean credits avatar */
/* Put into app/globals.css (NOT a module file) */

.heroActions img,
.heroActions .credits-avatar-broken,
.heroActions > img {
  display: none !important;
}

/* If the stray text is coming from a small image tag that is sized 16x16 or 1x1 */
img[width="1"][height="1"],
img[width="16"][height="16"] {
  display: none !important;
}

/* If the element is an <svg> fallback or a stray text node inside .heroActions, hide it */
.heroActions .stray-logo,
.heroActions .small-logo {
  display: none !important;
}

/* Create a stable Credits avatar if markup provides an element with .creditsAvatarPlaceholder */
.creditsAvatarPlaceholder {
  width: 44px;
  height: 44px;
  border-radius: 999px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg,#fff6e8,#ff8a4b);
  color: #7a3414;
  font-weight: 800;
  font-size: 14px;
  box-shadow: 0 6px 14px rgba(16,24,40,0.06);
  border: 1px solid rgba(15,23,42,0.03);
}



/* --------------------------------------------- */
/* Custom animated cursor from cursors-4u (works 100%) */
/* --------------------------------------------- */
* {
  cursor: url("https://cur.cursors-4u.net/cursors/cur-1/cur1.ani"),
          url("https://cur.cursors-4u.net/cursors/cur-1/cur1.png"),
          auto !important;
}

/* ------------------------
   Webcam/dialog global styles moved from components/Companion.module.css
   (moved here to avoid CSS Module pure :global selector build errors)
   ------------------------ */

   .webcam-dialog {
    width: 100%;
    max-width: 260px;      /* camera width adjusted per request */
    border-radius: 12px;
    padding: 8px;
    background: #fff;
    box-shadow: 0 12px 40px rgba(0,0,0,0.04);
    display: flex;
    flex-direction: column;
    align-items: center;
    box-sizing: border-box;
  }
  
  /* video area inside the webcam dialog */
  .webcam-dialog > div:first-child {
    width: 100%;
    height: 140px; /* camera height adjusted per request */
    border-radius: 8px;
    overflow: hidden;
    background: #0f0f0f;
    box-sizing: border-box;
  }
  
  /* ensure the media tag fits */
  .webcam-dialog video,
  .webcam-dialog canvas,
  .webcam-dialog img {
    width: 100% !important;
    height: 100% !important;
    object-fit: cover;
    display: block;
  }
  
  /* capture / actions row below the video */
  /* Centered, fixed three buttons that won't overflow */
  .webcam-actions {
    margin-top: 8px;
    display: flex;
    gap: 18px;               /* space between action items */
    justify-content: center; /* center actions inside the box */
    font-size: 13px;         /* slightly smaller so text doesn't crowd */
    width: 100%;
    padding: 6px 8px;
    box-sizing: border-box;
    overflow: hidden;
  }
  
  /* style the action buttons so there's clear spacing and comfortable hit area */
  .webcam-actions button,
  .webcam-actions a {
    background: transparent;
    border: none;
    color: #0b5fff;
    cursor: pointer;
    padding: 6px 10px;       /* small padding to make them tappable but compact */
    border-radius: 6px;
    text-decoration: none;
    font-weight: 600;
    display: inline-block;
    white-space: nowrap;     /* prevent wrapping inside labels */
    font-size: 13px;
  }
  
  /* give download button a disabled style to make it obvious */
  .webcam-actions button[disabled] {
    opacity: 0.5;
    cursor: not-allowed;
  }
  
  /* responsive tweak moved from the module file */
  @media (max-width: 980px) {
    .webcam-dialog > div:first-child {
      height: 120px;
    }
  }
  
  
  /* ============================================================
   COMPACT CLERK DROPDOWN FIX (SAFE PATCH â€“ DOES NOT BREAK ANYTHING)
   Makes Manage Account + Sign Out smaller and visually attached
   to the header avatar button.
   ============================================================ */

.navbar .user-button-wrapper {
  position: relative !important;
  z-index: 9999 !important;
}

/* When Clerk renders dropdown inline (sibling/child of wrapper) */
.navbar .user-button-wrapper > .clerk-dropdown,
.navbar .user-button-wrapper > .clerk-popover,
.app-clerk-user-button + .clerk-dropdown,
.app-clerk-user-button + .clerk-popover {
  position: absolute !important;
  top: calc(100% + 6px) !important;   /* small gap below avatar */
  right: 0 !important;                 /* align to right side of avatar */
  width: 220px !important;             /* compact size */
  min-width: 180px !important;
  padding: 8px !important;
  border-radius: 12px !important;
  background: #fff !important;
  box-shadow: 0 12px 32px rgba(0,0,0,0.12) !important;
  overflow: hidden !important;
  transform-origin: top right !important;
}

/* Compact inner card */
.cl-userButtonPopoverMain {
  padding: 10px !important;
}

/* Compact Manage account + Sign out buttons */
.cl-userButtonPopoverActionButton {
  height: 36px !important;
  font-size: 13px !important;
  padding: 6px 10px !important;
  border-radius: 8px !important;
}

/* Portal fallback â€” in case Clerk renders to body */
.clerk__portal-root .clerk-dropdown,
.clerk__portal-root .clerk-popover {
  width: 220px !important;
  padding: 8px !important;
  border-radius: 12px !important;
  box-shadow: 0 12px 32px rgba(0,0,0,0.12) !important;
  background: #fff !important;
  transform-origin: top right !important;

  /* adjust these two values ONLY if needed */
  top: 62px !important;   /* matches your navbar height */
  right: 60px !important; /* matches your navbar padding */
}

/* Small arrow to visually connect popup to avatar */
.clerk-dropdown::before,
.clerk-popover::before,
.clerk__portal-root .clerk-dropdown::before {
  content: "";
  position: absolute;
  width: 10px;
  height: 10px;
  background: #fff;
  transform: rotate(45deg);
  top: -5px;    /* sits above the dropdown */
  right: 16px;  /* aligns under avatar */
  box-shadow: -1px -1px 2px rgba(0,0,0,0.05);
  z-index: 9999;
}
